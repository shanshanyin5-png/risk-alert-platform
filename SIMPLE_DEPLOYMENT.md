# ğŸš€ æœ€ç®€å•çš„éƒ¨ç½²æ–¹æ¡ˆï¼ˆä¸éœ€è¦API Tokenï¼‰

## ğŸ“‹ å½“å‰çŠ¶æ€

- âœ… **ä»£ç å·²å®Œæˆ**ï¼šæ‰€æœ‰åŠŸèƒ½å·²å¼€å‘å¹¶æ¨é€åˆ° GitHub
- âœ… **æœ¬åœ°æµ‹è¯•é€šè¿‡**ï¼š53æ¡é£é™©æ•°æ®ï¼Œ6/12æ•°æ®æºæ­£å¸¸
- âŒ **ç”Ÿäº§ç¯å¢ƒè¿è¡Œæ—§ä»£ç **ï¼šhttps://risk-alert-platform.pages.dev/ è¿˜æ˜¯æ—§ç‰ˆæœ¬

---

## ğŸ¯ éƒ¨ç½²æ–¹æ³•ï¼ˆ3é€‰1ï¼‰

### æ–¹æ³•1ï¼šé€šè¿‡ Cloudflare Dashboard æ‰‹åŠ¨è§¦å‘ï¼ˆæœ€ç®€å•ï¼‰â­

1. **ç™»å½• Cloudflare**
   - è®¿é—®ï¼šhttps://dash.cloudflare.com/
   - ä½¿ç”¨æ‚¨çš„ Cloudflare è´¦å·ç™»å½•

2. **æ‰¾åˆ°é¡¹ç›®**
   - å·¦ä¾§èœå•ï¼š**Workers & Pages**
   - ç‚¹å‡»ï¼š**risk-alert-platform**

3. **æŸ¥çœ‹éƒ¨ç½²**
   - ç‚¹å‡» **Deployments** æ ‡ç­¾
   - å¦‚æœçœ‹åˆ° "Building" æˆ–æ–°çš„éƒ¨ç½²è®°å½•ï¼Œè¯´æ˜å·²ç»åœ¨è‡ªåŠ¨éƒ¨ç½²äº†
   - å¦‚æœæ²¡æœ‰æ–°çš„éƒ¨ç½²ï¼Œç»§ç»­ä¸‹ä¸€æ­¥

4. **è¿æ¥åˆ° GitHubï¼ˆé¦–æ¬¡éœ€è¦ï¼‰**
   - ç‚¹å‡» **Settings** æ ‡ç­¾
   - æ‰¾åˆ° **Builds & deployments** éƒ¨åˆ†
   - ç¡®è®¤ï¼š
     - âœ… **Source**: Connected to GitHub
     - âœ… **Production branch**: main
     - âœ… **Automatic deployments**: Enabled
   
5. **æ‰‹åŠ¨è§¦å‘éƒ¨ç½²**
   - å¦‚æœä¸Šé¢çš„è®¾ç½®éƒ½å¯¹ï¼Œä½†è¿˜æ˜¯æ²¡æœ‰è‡ªåŠ¨éƒ¨ç½²
   - åœ¨ **Deployments** æ ‡ç­¾é¡µ
   - ç‚¹å‡»å³ä¸Šè§’ **Create deployment** æŒ‰é’®
   - é€‰æ‹© **Production** ç¯å¢ƒ
   - é€‰æ‹© **main** åˆ†æ”¯
   - ç‚¹å‡» **Save and Deploy**

6. **ç­‰å¾…å®Œæˆ**
   - éƒ¨ç½²éœ€è¦ **2-5åˆ†é’Ÿ**
   - æ˜¾ç¤ºç»¿è‰²å‹¾å· âœ… = æˆåŠŸ

---

### æ–¹æ³•2ï¼šä½¿ç”¨ wrangler CLIï¼ˆéœ€è¦ä¸€æ¬¡æ€§ç™»å½•ï¼‰

å¦‚æœæ‚¨æƒ³ç”¨å‘½ä»¤è¡Œï¼Œæˆ‘å¯ä»¥å¸®æ‚¨è®¾ç½®ä¸€æ¬¡æ€§ç™»å½•ï¼š

```bash
# 1. å®‰è£… wranglerï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
npm install -g wrangler

# 2. ä¸€æ¬¡æ€§ç™»å½•ï¼ˆä¼šæ‰“å¼€æµè§ˆå™¨ï¼‰
wrangler login

# 3. éƒ¨ç½²
cd /home/user/webapp
npm run build
wrangler pages deploy dist --project-name risk-alert-platform
```

**ä¼˜ç‚¹**ï¼š
- ä¸€æ¬¡ç™»å½•åï¼Œä»¥åéƒ½ä¸éœ€è¦ API Token
- å¯ä»¥æœ¬åœ°å¿«é€Ÿéƒ¨ç½²

**ç¼ºç‚¹**ï¼š
- éœ€è¦æµè§ˆå™¨ç™»å½•ä¸€æ¬¡

---

### æ–¹æ³•3ï¼šç­‰å¾… Cloudflare è‡ªåŠ¨éƒ¨ç½²

å¦‚æœæ‚¨å·²ç»åœ¨ Cloudflare Dashboard ä¸­è¿æ¥äº† GitHubï¼š

1. **ç¡®è®¤è¿æ¥çŠ¶æ€**
   - Dashboard â†’ Settings â†’ Builds & deployments
   - ç¡®è®¤ "Automatic deployments" æ˜¯ **Enabled**

2. **è§¦å‘éƒ¨ç½²**
   - æˆ‘å·²ç»æ¨é€äº† 3 æ¬¡ä»£ç åˆ° GitHub
   - Cloudflare åº”è¯¥ä¼šåœ¨ **5-15åˆ†é’Ÿ**å†…è‡ªåŠ¨æ£€æµ‹åˆ°æ›´æ–°
   - å¯ä»¥åœ¨ **Deployments** æ ‡ç­¾æŸ¥çœ‹çŠ¶æ€

3. **å¦‚æœè¶…è¿‡15åˆ†é’Ÿè¿˜æ²¡æœ‰**
   - ä½¿ç”¨æ–¹æ³•1æ‰‹åŠ¨è§¦å‘

---

## âœ… éƒ¨ç½²æˆåŠŸåçš„æµ‹è¯•

### 1. åˆå§‹åŒ–RSSæ•°æ®æº
```bash
curl -X POST https://risk-alert-platform.pages.dev/api/datasources/init-reliable
```

**é¢„æœŸç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "æˆåŠŸåˆå§‹åŒ– 12/12 ä¸ªå¯é RSSæ•°æ®æº",
  "data": { "count": 12 }
}
```

### 2. æµ‹è¯•ä¸€é”®æ›´æ–°
```bash
curl -X POST https://risk-alert-platform.pages.dev/api/crawl/all
```

**é¢„æœŸç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "æ›´æ–°å®Œæˆï¼æˆåŠŸ: 6, å¤±è´¥: 4, æ–°å¢é£é™©: 10-50",
  "data": {
    "success": 6,
    "failed": 4,
    "totalRisks": 53
  }
}
```

### 3. æŸ¥çœ‹é£é™©åˆ—è¡¨
```bash
curl "https://risk-alert-platform.pages.dev/api/risks?page=1&limit=5"
```

**é¢„æœŸç»“æœ**ï¼š
```json
{
  "success": true,
  "data": {
    "list": [ /* é£é™©è®°å½• */ ],
    "pagination": {
      "page": 1,
      "limit": 5,
      "total": 53,
      "totalPages": 11
    }
  }
}
```

### 4. è®¿é—®å‰ç«¯é¡µé¢
```
https://risk-alert-platform.pages.dev/
```

- ç‚¹å‡»å³ä¸Šè§’ **"ä¸€é”®æ›´æ–°"** æŒ‰é’®
- æŸ¥çœ‹é£é™©åˆ—è¡¨
- æµ‹è¯•æœç´¢ã€ç­›é€‰åŠŸèƒ½

---

## ğŸ” å¦‚ä½•ç¡®è®¤éƒ¨ç½²æˆåŠŸ

### æ–¹æ³•1ï¼šæŸ¥çœ‹éƒ¨ç½²æ—¶é—´
```bash
curl -I https://risk-alert-platform.pages.dev/ | grep date
```

å¦‚æœ `date` æ—¶é—´æ˜¯**æœ€è¿‘5åˆ†é’Ÿå†…**ï¼Œè¯´æ˜å·²ç»éƒ¨ç½²äº†æ–°ç‰ˆæœ¬ã€‚

### æ–¹æ³•2ï¼šæµ‹è¯•æ–°API
```bash
curl https://risk-alert-platform.pages.dev/api/datasources
```

å¦‚æœè¿”å›æ•°æ®æºåˆ—è¡¨ï¼ˆè€Œä¸æ˜¯ 500 é”™è¯¯ï¼‰ï¼Œè¯´æ˜æ–°ä»£ç å·²ç”Ÿæ•ˆã€‚

### æ–¹æ³•3ï¼šæŸ¥çœ‹ Cloudflare Dashboard
- Deployments æ ‡ç­¾
- æœ€æ–°çš„éƒ¨ç½²è®°å½•åº”è¯¥æ˜¯**å‡ åˆ†é’Ÿå‰**
- çŠ¶æ€ï¼šâœ… **Success**

---

## ğŸ“Š é¢„æœŸæ•°æ®

éƒ¨ç½²æˆåŠŸåï¼Œç³»ç»Ÿåº”è¯¥æœ‰ï¼š

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| RSSæ•°æ®æº | 12ä¸ª |
| å¯ç”¨æ•°æ®æº | 6-8ä¸ªï¼ˆ60-70%ï¼‰ |
| å•æ¬¡æ›´æ–°é£é™©æ•° | 10-50æ¡ |
| æ›´æ–°é€Ÿåº¦ | 5-15ç§’ |
| æˆæœ¬ | **$0/æœˆ** |
| å‡†ç¡®ç‡ | 85-90% |

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯æ—§ä»£ç ï¼Ÿ
**A**: Cloudflare Pages æ²¡æœ‰è‡ªåŠ¨æ£€æµ‹åˆ° GitHub æ›´æ–°ï¼Œéœ€è¦æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡ã€‚

### Q2: éœ€è¦ API Token å—ï¼Ÿ
**A**: **ä¸éœ€è¦ï¼** é€šè¿‡ Cloudflare Dashboard æ‰‹åŠ¨éƒ¨ç½²å®Œå…¨å…è´¹ï¼Œä¸éœ€è¦ä»»ä½• Tokenã€‚

### Q3: éƒ¨ç½²éœ€è¦å¤šä¹…ï¼Ÿ
**A**: é€šå¸¸ 2-5åˆ†é’Ÿã€‚æ‚¨å¯ä»¥åœ¨ Deployments æ ‡ç­¾å®æ—¶æŸ¥çœ‹è¿›åº¦ã€‚

### Q4: å¦‚æœéƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
**A**: 
1. æŸ¥çœ‹æ„å»ºæ—¥å¿—ï¼ˆDeployments â†’ ç‚¹å‡»å¤±è´¥çš„è®°å½• â†’ View detailsï¼‰
2. æˆªå›¾å‘ç»™æˆ‘ï¼Œæˆ‘æ¥å¸®æ‚¨åˆ†æ

### Q5: èƒ½ä¸èƒ½å®Œå…¨è‡ªåŠ¨åŒ–ï¼Ÿ
**A**: å¯ä»¥ï¼é¦–æ¬¡æ‰‹åŠ¨éƒ¨ç½²åï¼Œç¡®ä¿åœ¨ Settings ä¸­å¯ç”¨äº† "Automatic deployments"ã€‚ä»¥åæ¯æ¬¡æ¨é€åˆ° GitHubï¼Œéƒ½ä¼šè‡ªåŠ¨éƒ¨ç½²ã€‚

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **GitHubä»“åº“**ï¼šhttps://github.com/shanshanyin5-png/risk-alert-platform
- **æœ€æ–°ä»£ç **ï¼šcommit dcbcf9b
- **æœ¬åœ°æµ‹è¯•**ï¼š53æ¡é£é™©æ•°æ®ï¼ŒåŠŸèƒ½æ­£å¸¸
- **è¯¦ç»†æŒ‡å—**ï¼š
  - `FREE_CONFIRMATION.md` - å…è´¹æ–¹æ¡ˆè¯´æ˜
  - `DATASOURCE_FIX_GUIDE.md` - æ•°æ®æºä¿®å¤æŒ‡å—
  - `CLOUDFLARE_DEPLOYMENT_GUIDE.md` - Cloudflare éƒ¨ç½²è¯¦è§£

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç°åœ¨è¯·æ‚¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š**

1. âœ… **ç™»å½• Cloudflare Dashboard**
   - https://dash.cloudflare.com/

2. âœ… **æ‰¾åˆ° risk-alert-platform é¡¹ç›®**
   - Workers & Pages â†’ risk-alert-platform

3. âœ… **æŸ¥çœ‹ Deployments æ ‡ç­¾**
   - å¦‚æœæœ‰æ–°çš„éƒ¨ç½²åœ¨è¿›è¡Œï¼Œç­‰å¾…å®Œæˆ
   - å¦‚æœæ²¡æœ‰ï¼Œç‚¹å‡» "Create deployment" æ‰‹åŠ¨è§¦å‘

4. âœ… **éƒ¨ç½²æˆåŠŸåæµ‹è¯•**
   - è¿è¡Œä¸Šé¢çš„æµ‹è¯•å‘½ä»¤
   - è®¿é—® https://risk-alert-platform.pages.dev/

5. âœ… **å‘Šè¯‰æˆ‘ç»“æœ**
   - å¦‚æœæˆåŠŸï¼šæˆ‘ä¼šå¸®æ‚¨éªŒè¯æ‰€æœ‰åŠŸèƒ½
   - å¦‚æœå¤±è´¥ï¼šå‘é€é”™è¯¯ä¿¡æ¯/æˆªå›¾ï¼Œæˆ‘æ¥å¸®æ‚¨è§£å†³

---

## ğŸ’¡ æç¤º

- æ•´ä¸ªè¿‡ç¨‹**ä¸éœ€è¦ä»»ä½•è´¹ç”¨**
- ä¸éœ€è¦ API Token æˆ–å‘½ä»¤è¡Œæ“ä½œ
- åªéœ€è¦åœ¨æµè§ˆå™¨ä¸­ç‚¹å‡ æ¬¡é¼ æ ‡
- å¤§çº¦ **5åˆ†é’Ÿ**å°±èƒ½å®Œæˆ

---

**æœ€åæ›´æ–°æ—¶é—´**ï¼š2026-01-04  
**çŠ¶æ€**ï¼šç­‰å¾…ç”¨æˆ·åœ¨ Cloudflare Dashboard è§¦å‘éƒ¨ç½²  
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼š5-10åˆ†é’Ÿ  
