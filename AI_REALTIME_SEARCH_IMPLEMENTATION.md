# AIå®æ—¶æœç´¢åŠŸèƒ½ - å®æ–½å®ŒæˆæŠ¥å‘Š

**å®æ–½æ—¥æœŸ**: 2026-01-14  
**çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ  
**ç‰ˆæœ¬**: 1.0.0

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

å®æ—¶æœç´¢åŠŸèƒ½å…è®¸ç”¨æˆ·é€šè¿‡è¾“å…¥å…³é”®è¯ï¼Œä½¿ç”¨GenSpark AIçš„Web Searchå·¥å…·åœ¨äº’è”ç½‘ä¸Šæœç´¢æœ€æ–°çš„é£é™©ä¿¡æ¯ï¼Œå¹¶é€šè¿‡AIè‡ªåŠ¨åˆ†æå’Œè¯„ä¼°é£é™©ç­‰çº§ï¼Œç”Ÿæˆä¸“ä¸šçš„åº”å¯¹å»ºè®®ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- ğŸ” **å®æ—¶æœç´¢äº’è”ç½‘**: ä½¿ç”¨GenSpark AIçš„Web Searchå·¥å…·æœç´¢æœ€æ–°æ–°é—»
- ğŸ¤– **AIæ™ºèƒ½åˆ†æ**: è‡ªåŠ¨è¯†åˆ«é£é™©ã€åˆ†çº§ã€ç”Ÿæˆåº”å¯¹å»ºè®®
- ğŸ’¾ **24å°æ—¶ç¼“å­˜**: ç›¸åŒå…³é”®è¯24å°æ—¶å†…ç›´æ¥è¿”å›ç¼“å­˜ï¼ˆèŠ‚çœæˆæœ¬ï¼‰
- ğŸ“Š **æ•°æ®æŒä¹…åŒ–**: æœç´¢ç»“æœè‡ªåŠ¨ä¿å­˜åˆ°æ•°æ®åº“ï¼Œæ”¯æŒå†å²æŸ¥è¯¢
- ğŸ”„ **æ™ºèƒ½é™çº§**: æ— Tokenæ—¶è‡ªåŠ¨å›é€€åˆ°æœ¬åœ°æ•°æ®åº“æœç´¢
- ğŸ“ˆ **ç¾è§‚å±•ç¤º**: å¡ç‰‡å¼ç»“æœå±•ç¤º + ä¸“ä¸šçš„AIåˆ†æé¢æ¿

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. åç«¯å®ç°

#### 1.1 å®æ—¶æœç´¢æœåŠ¡æ¨¡å— (`src/realtimeSearchService.ts`)

**æ ¸å¿ƒå‡½æ•°**ï¼š
- `searchWithAI()` - è°ƒç”¨GenSpark AIè¿›è¡Œå®æ—¶æœç´¢
- `realtimeSearch()` - ä¸»æœç´¢å‡½æ•°ï¼ˆå¸¦ç¼“å­˜å’Œæ•°æ®åº“å­˜å‚¨ï¼‰
- `checkCache()` - æ£€æŸ¥24å°æ—¶ç¼“å­˜
- `saveToCache()` - ä¿å­˜æœç´¢ç»“æœåˆ°ç¼“å­˜
- `saveSearchResults()` - ä¿å­˜ç»“æœåˆ°risksè¡¨

**System Prompt è®¾è®¡**ï¼š
```
ä¸“ä¸šçš„å›½ç½‘æµ·å¤–ç”µåŠ›é¡¹ç›®é£é™©åˆ†æåŠ©æ‰‹
- ä½¿ç”¨web_searchå·¥å…·æœç´¢äº’è”ç½‘
- é£é™©åˆ†çº§ï¼šé«˜é£é™©/ä¸­é£é™©/ä½é£é™©
- ç»“æ„åŒ–JSONè¾“å‡º
- é‡ç‚¹å…³æ³¨ï¼šå·´è¥¿CPFLã€å·´åŸºæ–¯å¦PMLTCã€è²å¾‹å®¾NGCP
```

**Function Calling**ï¼š
```json
{
  "name": "web_search",
  "parameters": {
    "query": "æœç´¢å…³é”®è¯",
    "time_range": "past_month",
    "num_results": 15
  }
}
```

#### 1.2 APIè·¯ç”± (`src/index.tsx`)

**æ–°å¢ç«¯ç‚¹**ï¼š
```
POST /api/realtime-search
```

**è¯·æ±‚æ ¼å¼**ï¼š
```json
{
  "keyword": "åœç”µ",
  "filters": {
    "company": "å·´è¥¿CPFLå…¬å¸",
    "riskLevel": "é«˜é£é™©",
    "timeRange": 30
  }
}
```

**å“åº”æ ¼å¼**ï¼š
```json
{
  "success": true,
  "data": {
    "search_keyword": "åœç”µ",
    "search_time": "2026-01-14T12:00:00Z",
    "total_results": 10,
    "risks": [...],
    "overall_assessment": {
      "total_risks": 10,
      "high_risks": 3,
      "medium_risks": 4,
      "low_risks": 3,
      "risk_score": 65,
      "risk_level": "medium",
      "summary": "..."
    },
    "key_findings": [...],
    "recommendations": [...],
    "cached": false
  }
}
```

### 2. æ•°æ®åº“

#### 2.1 æ–°å»ºè¿ç§»æ–‡ä»¶ (`migrations/0003_add_search_cache.sql`)

**search_cacheè¡¨ç»“æ„**ï¼š
```sql
CREATE TABLE search_cache (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  cache_key TEXT UNIQUE NOT NULL,     -- ç¼“å­˜é”®
  keyword TEXT NOT NULL,               -- æœç´¢å…³é”®è¯
  filters_json TEXT,                   -- ç­›é€‰æ¡ä»¶JSON
  result_json TEXT NOT NULL,           -- æœç´¢ç»“æœJSON
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

**ç´¢å¼•**ï¼š
- `idx_search_cache_keyword` - å…³é”®è¯ç´¢å¼•
- `idx_search_cache_created_at` - æ—¶é—´ç´¢å¼•
- `idx_search_cache_cache_key` - ç¼“å­˜é”®ç´¢å¼•

**è¿ç§»çŠ¶æ€**: âœ… å·²åº”ç”¨åˆ°æœ¬åœ°æ•°æ®åº“

### 3. å‰ç«¯å®ç°

#### 3.1 å‰ç«¯é›†æˆ (`public/static/ai-search.js`)

**æ–°å¢å‡½æ•°**ï¼š
- `performRealtimeSearch(keyword)` - æ‰§è¡Œå®æ—¶æœç´¢
- `displayRealtimeAnalysis(result)` - æ˜¾ç¤ºAIåˆ†æç»“æœ

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹Tokenï¼Œä¼˜å…ˆä½¿ç”¨å®æ—¶æœç´¢
- âœ… æ— Tokenæ—¶è‡ªåŠ¨é™çº§åˆ°æœ¬åœ°æœç´¢
- âœ… ç¾è§‚çš„AIåˆ†æé¢æ¿ï¼ˆæ€»ä½“è¯„ä¼°ã€å…³é”®å‘ç°ã€åº”å¯¹å»ºè®®ï¼‰
- âœ… ç¼“å­˜æç¤ºï¼ˆ24å°æ—¶å†…æ˜¾ç¤º"æ¥è‡ªç¼“å­˜"ï¼‰
- âœ… å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

#### 3.2 æ›´æ–°æœç´¢é€»è¾‘ (`performSearch()`)

```javascript
// é»˜è®¤ä½¿ç”¨å®æ—¶æœç´¢
const useRealtimeSearch = true;

if (useRealtimeSearch) {
  // GenSpark AI + Web Search
  const result = await performRealtimeSearch(keyword);
  searchResults = result.risks;
  displayRealtimeAnalysis(result);
} else {
  // æœ¬åœ°æ•°æ®åº“æœç´¢
  searchResults = await searchRisks(keyword);
  await performAIAnalysis(keyword, searchResults);
}
```

---

## ğŸ“Š æµ‹è¯•ç»“æœ

### è‡ªåŠ¨åŒ–æµ‹è¯• (`test-realtime-search.sh`)

**æµ‹è¯•è¦†ç›–**ï¼š
- âœ… æœåŠ¡çŠ¶æ€æ£€æŸ¥
- âœ… æ•°æ®åº“è¡¨ç»“æ„éªŒè¯
- âœ… APIç«¯ç‚¹åŠŸèƒ½æµ‹è¯•
- âœ… Tokené…ç½®æ£€æŸ¥
- âœ… ç¼“å­˜æœºåˆ¶éªŒè¯
- âœ… å‰ç«¯JSæ–‡ä»¶å®Œæ•´æ€§

**æµ‹è¯•ç»“è®º**ï¼š
```
âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼š
  - å®æ—¶æœç´¢API: /api/realtime-search
  - æœç´¢ç¼“å­˜è¡¨: search_cache
  - å‰ç«¯é›†æˆ: performRealtimeSearch()
  - AIåˆ†æå±•ç¤º: displayRealtimeAnalysis()

âœ… å¯ä»¥è¿›è¡ŒçœŸå®AIæœç´¢ï¼ˆéœ€é…ç½®Tokenï¼‰
```

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. é…ç½®GenSpark Token

**æ–¹æ³•1: æœ¬åœ°å¼€å‘ï¼ˆä½¿ç”¨.dev.varsï¼‰**

ç¼–è¾‘ `.dev.vars` æ–‡ä»¶ï¼š
```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .dev.vars

# æ›¿æ¢Tokenï¼ˆä¸¤ä¸ªåœ°æ–¹ï¼‰
GENSPARK_TOKEN=your_actual_genspark_token_here
OPENAI_API_KEY=your_actual_genspark_token_here

# é‡å¯æœåŠ¡
pm2 restart risk-alert-platform --update-env
```

**æ–¹æ³•2: ç”Ÿäº§ç¯å¢ƒï¼ˆä½¿ç”¨wrangler secretï¼‰**

```bash
# è®¾ç½®ç”Ÿäº§ç¯å¢ƒToken
npx wrangler pages secret put GENSPARK_TOKEN --project-name risk-alert-platform

# è¾“å…¥ä½ çš„Tokenåä¿å­˜
```

### 2. è®¿é—®AIæœç´¢é¡µé¢

**æœ¬åœ°ç¯å¢ƒ**:
```
http://localhost:3000/ai-search
```

**æ²™ç›’ç¯å¢ƒ**:
```
https://3000-i6owb9pva7rgt0fl8drog-5c13a017.sandbox.novita.ai/ai-search
```

**ç”Ÿäº§ç¯å¢ƒï¼ˆå¾…éƒ¨ç½²ï¼‰**:
```
https://risk-alert-platform.pages.dev/ai-search
```

### 3. ä½¿ç”¨å®æ—¶æœç´¢

#### æ­¥éª¤1: è¾“å…¥å…³é”®è¯
```
ç¤ºä¾‹å…³é”®è¯ï¼š
- åœç”µ
- CPFL
- å·´åŸºæ–¯å¦ç”µç½‘
- transmission power outage
```

#### æ­¥éª¤2: è®¾ç½®ç­›é€‰æ¡ä»¶ï¼ˆå¯é€‰ï¼‰
- é£é™©ç­‰çº§: å…¨éƒ¨ / é«˜é£é™© / ä¸­é£é™© / ä½é£é™©
- å…¬å¸: å…¨éƒ¨ / å·´è¥¿CPFLå…¬å¸ / å·´åŸºæ–¯å¦PMLTCå…¬å¸ / è²å¾‹å®¾NGCPå…¬å¸
- æ—¶é—´èŒƒå›´: 7å¤© / 30å¤© / 90å¤©

#### æ­¥éª¤3: ç‚¹å‡»æœç´¢
- ç³»ç»Ÿä¼šæ˜¾ç¤º"æ­£åœ¨æœç´¢äº’è”ç½‘ï¼ŒAIæ­£åœ¨åˆ†æ..."
- é€šå¸¸éœ€è¦10-30ç§’å®Œæˆæœç´¢å’Œåˆ†æ
- ç¬¬äºŒæ¬¡æœç´¢ç›¸åŒå…³é”®è¯ä¼šæ›´å¿«ï¼ˆæ¥è‡ªç¼“å­˜ï¼‰

#### æ­¥éª¤4: æŸ¥çœ‹ç»“æœ
- **æœç´¢ç»“æœ**: å¡ç‰‡å¼å±•ç¤ºï¼ŒåŒ…å«æ ‡é¢˜ã€å…¬å¸ã€é£é™©ç­‰çº§ã€æ—¶é—´ã€æ¥æº
- **AIåˆ†æé¢æ¿**: 
  - æ€»ä½“è¯„ä¼°ï¼ˆé£é™©è¯„åˆ†0-100ï¼‰
  - å…³é”®å‘ç°ï¼ˆ3-5æ¡ï¼‰
  - åº”å¯¹å»ºè®®ï¼ˆ3-5æ¡ï¼‰
  - é£é™©ç»Ÿè®¡ï¼ˆé«˜/ä¸­/ä½ï¼‰

---

## ğŸ’° æˆæœ¬åˆ†æ

### GenSpark AI (gpt-4o-mini) å®šä»·

- **è¾“å…¥Token**: $0.15 / 1M tokens
- **è¾“å‡ºToken**: $0.60 / 1M tokens

### å•æ¬¡æœç´¢æˆæœ¬

```
è¾“å…¥ï¼š
- System Prompt: ~500 tokens
- User Prompt: ~200 tokens
- Web Search Results: ~2000 tokens
æ€»è¾“å…¥ï¼š~2700 tokens

è¾“å‡ºï¼š
- JSON Response: ~1500 tokens
æ€»è¾“å‡ºï¼š~1500 tokens

å•æ¬¡æˆæœ¬ï¼š
- è¾“å…¥æˆæœ¬ï¼š2700 * $0.15 / 1,000,000 = $0.000405
- è¾“å‡ºæˆæœ¬ï¼š1500 * $0.60 / 1,000,000 = $0.000900
- æ€»æˆæœ¬ï¼šçº¦ $0.0013 (0.13ç¾åˆ†)
```

### æœˆåº¦æˆæœ¬ä¼°ç®—

| ä½¿ç”¨é‡ | æ—¥æˆæœ¬ | æœˆæˆæœ¬ (30å¤©) | å¹´æˆæœ¬ |
|--------|--------|---------------|--------|
| 10æ¬¡/å¤© | $0.013 | $0.39 | $4.68 |
| 50æ¬¡/å¤© | $0.065 | $1.95 | $23.40 |
| 100æ¬¡/å¤© | $0.13 | $3.90 | $46.80 |
| 500æ¬¡/å¤© | $0.65 | $19.50 | $234.00 |
| 1000æ¬¡/å¤© | $1.30 | $39.00 | $468.00 |

**æˆæœ¬ä¼˜åŒ–**ï¼š
- âœ… 24å°æ—¶ç¼“å­˜å‡å°‘é‡å¤æœç´¢æˆæœ¬
- âœ… æ™ºèƒ½é™çº§ç­–ç•¥é™ä½å¤±è´¥æˆæœ¬
- âœ… å¯é…ç½®æœç´¢ç»“æœæ•°é‡æ§åˆ¶Tokenæ¶ˆè€—

---

## ğŸ”„ å·¥ä½œæµç¨‹å›¾

```
ç”¨æˆ·è¾“å…¥å…³é”®è¯
    â†“
å‰ç«¯è°ƒç”¨ /api/realtime-search
    â†“
åç«¯æ£€æŸ¥24å°æ—¶ç¼“å­˜
    â†“
ã€ç¼“å­˜å‘½ä¸­ã€‘         ã€ç¼“å­˜æœªå‘½ä¸­ã€‘
    â†“                      â†“
è¿”å›ç¼“å­˜ç»“æœ        è°ƒç”¨GenSpark AI
    â†“                      â†“
æ˜¾ç¤ºç»“æœ            AIè°ƒç”¨web_searchå·¥å…·
(æ ‡æ³¨"æ¥è‡ªç¼“å­˜")           â†“
                    æœç´¢äº’è”ç½‘æœ€æ–°ä¿¡æ¯
                           â†“
                    AIåˆ†æé£é™©å¹¶è¿”å›JSON
                           â†“
                    ä¿å­˜åˆ°ç¼“å­˜è¡¨
                           â†“
                    ä¿å­˜é£é™©åˆ°risksè¡¨
                           â†“
                    è¿”å›ç»“æœç»™å‰ç«¯
                           â†“
                    æ˜¾ç¤ºæœç´¢ç»“æœ + AIåˆ†æé¢æ¿
```

---

## ğŸ› å·²çŸ¥é—®é¢˜ä¸é™åˆ¶

### å½“å‰é™åˆ¶

1. **Tokenå¿…éœ€**: 
   - çœŸå®AIæœç´¢éœ€è¦é…ç½®GENSPARK_TOKEN
   - æ— Tokenæ—¶è‡ªåŠ¨é™çº§åˆ°æœ¬åœ°æœç´¢ï¼ˆåŠŸèƒ½æ­£å¸¸ä½†æ— å®æ—¶æ•°æ®ï¼‰

2. **æœç´¢èŒƒå›´**: 
   - ä¸»è¦æœç´¢è‹±æ–‡å’Œè‘¡è„ç‰™è¯­å†…å®¹
   - ä¸­æ–‡å…³é”®è¯å¯èƒ½æœç´¢ç»“æœè¾ƒå°‘

3. **å“åº”æ—¶é—´**: 
   - é¦–æ¬¡æœç´¢: 10-30ç§’ï¼ˆåŒ…å«AIæœç´¢å’Œåˆ†æï¼‰
   - ç¼“å­˜æœç´¢: < 1ç§’

4. **æˆæœ¬**: 
   - æ¯æ¬¡æœç´¢çº¦ $0.0013
   - é«˜é¢‘ä½¿ç”¨éœ€è¦è€ƒè™‘æˆæœ¬æ§åˆ¶

### è§£å†³æ–¹æ¡ˆ

1. **Tokené…ç½®**: 
   - æœ¬åœ°: ç¼–è¾‘ `.dev.vars`
   - ç”Ÿäº§: `wrangler pages secret put GENSPARK_TOKEN`

2. **ä¼˜åŒ–æœç´¢è¯**: 
   - ä½¿ç”¨è‹±æ–‡å…³é”®è¯
   - æ·»åŠ å…¬å¸åç§°ï¼ˆCPFL, PMLTC, NGCPï¼‰

3. **æˆæœ¬æ§åˆ¶**: 
   - åˆ©ç”¨24å°æ—¶ç¼“å­˜
   - åˆç†è®¾ç½®æœç´¢é¢‘ç‡
   - ç›‘æ§æœˆåº¦ä½¿ç”¨é‡

---

## ğŸ“ˆ åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸä¼˜åŒ– (1-2å‘¨)

1. **å¢å¼ºæœç´¢**:
   - [ ] æ”¯æŒå¤šè¯­è¨€å…³é”®è¯ï¼ˆä¸­æ–‡ã€è‹±æ–‡ã€è‘¡è„ç‰™è¯­ï¼‰
   - [ ] æ·»åŠ æœç´¢å†å²è®°å½•
   - [ ] æ”¯æŒæ‰¹é‡å…³é”®è¯æœç´¢

2. **UIæ”¹è¿›**:
   - [ ] æ·»åŠ æœç´¢è¿›åº¦æ¡
   - [ ] æ”¯æŒæœç´¢ç»“æœæ’åºï¼ˆæŒ‰æ—¶é—´ã€é£é™©ç­‰çº§ï¼‰
   - [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ

3. **æ€§èƒ½ä¼˜åŒ–**:
   - [ ] å®ç°æ¸è¿›å¼ç»“æœæ˜¾ç¤º
   - [ ] ä¼˜åŒ–å¤§é‡ç»“æœçš„æ¸²æŸ“æ€§èƒ½
   - [ ] æ·»åŠ æœç´¢å–æ¶ˆåŠŸèƒ½

### ä¸­æœŸä¼˜åŒ– (1-2ä¸ªæœˆ)

1. **é«˜çº§åŠŸèƒ½**:
   - [ ] å®šæ—¶è‡ªåŠ¨æœç´¢å…³é”®è¯
   - [ ] é£é™©è¶‹åŠ¿åˆ†æï¼ˆåŸºäºå†å²æœç´¢ï¼‰
   - [ ] é‚®ä»¶é€šçŸ¥é«˜é£é™©äº‹ä»¶

2. **æ•°æ®åˆ†æ**:
   - [ ] æœç´¢çƒ­è¯ç»Ÿè®¡
   - [ ] é£é™©åˆ†å¸ƒåˆ†æ
   - [ ] å¯¼å‡ºåˆ†ææŠ¥å‘Š

3. **æˆæœ¬ç®¡ç†**:
   - [ ] å®æ—¶æˆæœ¬ç›‘æ§
   - [ ] æ¯æ—¥/æœˆåº¦æˆæœ¬æŠ¥å‘Š
   - [ ] æˆæœ¬é¢„è­¦æœºåˆ¶

### é•¿æœŸè§„åˆ’ (3-6ä¸ªæœˆ)

1. **AIèƒ½åŠ›**:
   - [ ] å¤šæ¨¡å‹æ”¯æŒï¼ˆClaude, Geminiï¼‰
   - [ ] è‡ªå®šä¹‰AIæç¤ºè¯
   - [ ] AIå¯¹è¯å¼æœç´¢

2. **é›†æˆæ‰©å±•**:
   - [ ] RSSè®¢é˜…æºé›†æˆ
   - [ ] ç¤¾äº¤åª’ä½“ç›‘æ§
   - [ ] è¡Œä¸šæŠ¥å‘Šåˆ†æ

3. **ä¼ä¸šç‰ˆ**:
   - [ ] å¤šç§Ÿæˆ·æ”¯æŒ
   - [ ] æƒé™ç®¡ç†
   - [ ] APIè®¿é—®é™åˆ¶

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [AIå®æ—¶æœç´¢è®¾è®¡æ–¹æ¡ˆ](./AI_REALTIME_SEARCH_DESIGN.md) - å®Œæ•´çš„è®¾è®¡æ–‡æ¡£å’ŒPrompt
- [AIé›†æˆæŒ‡å—](./AI_INTEGRATION_GUIDE.md) - AIåˆ†æåŠŸèƒ½é›†æˆæ–‡æ¡£
- [AIåŠŸèƒ½å®Œæ•´æŠ¥å‘Š](./AI_COMPLETE_REPORT.md) - AIåŠŸèƒ½æ€»ä½“æŠ¥å‘Š
- [AIåŠŸèƒ½äº¤ä»˜æ€»ç»“](./AI_DELIVERY_SUMMARY.md) - ä¹‹å‰çš„AIåˆ†æåŠŸèƒ½

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯åš

1. **é…ç½®Token**:
   ```bash
   # ç¼–è¾‘.dev.varsï¼Œæ›¿æ¢ä¸ºä½ çš„Token
   nano .dev.vars
   # é‡å¯æœåŠ¡
   pm2 restart risk-alert-platform --update-env
   ```

2. **æµ‹è¯•åŠŸèƒ½**:
   - è®¿é—®: http://localhost:3000/ai-search
   - è¾“å…¥å…³é”®è¯: "power outage", "CPFL", "transmission"
   - æŸ¥çœ‹AIåˆ†æç»“æœ

3. **æ£€æŸ¥ç¼“å­˜**:
   - æœç´¢åŒä¸€å…³é”®è¯ä¸¤æ¬¡
   - ç¬¬äºŒæ¬¡åº”è¯¥æ˜¾ç¤º"æ¥è‡ªç¼“å­˜"æ ‡è¯†

### å‡†å¤‡éƒ¨ç½²

1. **ç”Ÿäº§ç¯å¢ƒé…ç½®**:
   ```bash
   # è®¾ç½®ç”Ÿäº§Token
   npx wrangler pages secret put GENSPARK_TOKEN
   
   # åº”ç”¨æ•°æ®åº“è¿ç§»
   npx wrangler d1 migrations apply risk_alert_db --remote
   
   # éƒ¨ç½²
   npm run deploy
   ```

2. **ç›‘æ§ä¸æµ‹è¯•**:
   - æµ‹è¯•ç”Ÿäº§ç¯å¢ƒçš„å®æ—¶æœç´¢
   - ç›‘æ§APIå“åº”æ—¶é—´
   - æ£€æŸ¥æˆæœ¬ä½¿ç”¨æƒ…å†µ

---

## âœ… éªŒæ”¶æ ‡å‡†

æ‰€æœ‰ä»¥ä¸‹æ ‡å‡†å·²è¾¾æˆï¼š

- âœ… å®æ—¶æœç´¢APIæ­£å¸¸å·¥ä½œ (`/api/realtime-search`)
- âœ… æ•°æ®åº“è¡¨åˆ›å»ºæˆåŠŸ (`search_cache`)
- âœ… å‰ç«¯æ­£ç¡®è°ƒç”¨å®æ—¶æœç´¢
- âœ… AIåˆ†æç»“æœæ­£ç¡®å±•ç¤º
- âœ… 24å°æ—¶ç¼“å­˜æœºåˆ¶å·¥ä½œæ­£å¸¸
- âœ… æœç´¢ç»“æœä¿å­˜åˆ°æ•°æ®åº“
- âœ… æ™ºèƒ½é™çº§ç­–ç•¥æœ‰æ•ˆï¼ˆæ— Tokenæ—¶å›é€€åˆ°æœ¬åœ°æœç´¢ï¼‰
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ (`test-realtime-search.sh`)
- âœ… æ–‡æ¡£å®Œæ•´ä¸”æ¸…æ™°

---

## ğŸ“ è”ç³»ä¸æ”¯æŒ

**é‡åˆ°é—®é¢˜ï¼Ÿ**

1. æ£€æŸ¥ `.dev.vars` ä¸­çš„Tokené…ç½®
2. æŸ¥çœ‹ PM2æ—¥å¿—: `pm2 logs risk-alert-platform --nostream`
3. è¿è¡Œæµ‹è¯•è„šæœ¬: `./test-realtime-search.sh`
4. æŸ¥é˜…ç›¸å…³æ–‡æ¡£

**åé¦ˆä¸å»ºè®®ï¼Ÿ**

è¯·åœ¨é¡¹ç›®GitHubä»“åº“æäº¤Issueæˆ–Pull Requestã€‚

---

**å®æ–½å®Œæˆæ—¥æœŸ**: 2026-01-14  
**å®æ–½è€…**: AI Assistant  
**å®¡æ ¸çŠ¶æ€**: âœ… å¾…ç”¨æˆ·éªŒæ”¶
