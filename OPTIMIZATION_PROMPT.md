# å›½ç½‘é£é™©é¢„è­¦å¹³å°ä¼˜åŒ–æ–¹æ¡ˆ - Prompt

## ğŸ“‹ å½“å‰é—®é¢˜åˆ†æ

### 1. æ•°æ®æºå¯ç”¨æ€§é—®é¢˜
**ç°çŠ¶**ï¼š31ä¸ªæ•°æ®æºä¸­å¤§éƒ¨åˆ†ä¸å¯ç”¨
**åŸå› åˆ†æ**ï¼š
- è·¨åŸŸé™åˆ¶ï¼ˆCORSï¼‰- æ— æ³•ä»æµè§ˆå™¨ç›´æ¥è®¿é—®
- åçˆ¬è™«æœºåˆ¶ - IPå°é”ã€User-Agentæ£€æµ‹
- ç½‘ç«™ç»“æ„å˜åŒ– - XPathè§„åˆ™å¤±æ•ˆ
- éœ€è¦JavaScriptæ¸²æŸ“ - é™æ€çˆ¬å–æ— æ³•è·å–å†…å®¹
- ä»˜è´¹å¢™/ç™»å½•å¢™ - éœ€è¦è®¤è¯æ‰èƒ½è®¿é—®

### 2. åŠŸèƒ½ç¼ºå¤±
- ç¼ºå°‘å…³é”®è¯æœç´¢åŠŸèƒ½ï¼ˆæœç´¢ç‰¹å®šå…¬å¸/äº‹ä»¶ï¼‰
- ç¼ºå°‘æ‰¹é‡å¯¼å…¥æ•°æ®æº
- å¯¼å‡ºåŠŸèƒ½ä¸å®Œå–„
- æ•°æ®æºæµ‹è¯•åŠŸèƒ½ä¸å‡†ç¡®

---

## ğŸ¯ è§£å†³æ–¹æ¡ˆè®¾è®¡

### æ–¹æ¡ˆä¸€ï¼šæ›¿æ¢ä¸ºå¯ç”¨çš„RSS/APIæ•°æ®æº

**ä¼˜åŠ¿**ï¼š
- æ— CORSé™åˆ¶
- ç¨³å®šå¯é 
- ç»“æ„åŒ–æ•°æ®
- æ˜“äºè§£æ

**å¯ç”¨æ•°æ®æºæ¨è**ï¼ˆ40ä¸ªï¼‰ï¼š

#### å›½é™…æ–°é—»ï¼ˆè‹±æ–‡ï¼‰
1. **Google News RSS** - https://news.google.com/rss/search?q={keyword}
2. **Reuters RSS** - https://www.reutersagency.com/feed/
3. **Bloomberg RSS** - https://www.bloomberg.com/feed/
4. **AP News RSS** - https://rssmix.com/
5. **BBC News RSS** - http://feeds.bbci.co.uk/news/rss.xml
6. **CNN RSS** - http://rss.cnn.com/rss/edition.rss
7. **Financial Times RSS** - https://www.ft.com/rss/
8. **The Guardian RSS** - https://www.theguardian.com/world/rss
9. **WSJ RSS** - https://feeds.a.dj.com/rss/
10. **NYTimes RSS** - https://rss.nytimes.com/services/xml/rss/nyt/World.xml

#### ä¸­å›½æ–°é—»ï¼ˆä¸­æ–‡ï¼‰
11. **æ–°åç½‘RSS** - http://www.xinhuanet.com/world/news_world.xml
12. **äººæ°‘ç½‘RSS** - http://www.people.com.cn/rss/world.xml
13. **ä¸­æ–°ç½‘RSS** - http://www.chinanews.com/rss/scroll-news.xml
14. **ç¯çƒç½‘RSS** - https://world.huanqiu.com/feed
15. **å¤®è§†ç½‘RSS** - http://news.cctv.com/xml/

#### è¡Œä¸šä¸“ä¸šåª’ä½“
16. **Power Engineering** - https://www.power-eng.com/feed/
17. **Electric Light & Power** - https://www.elp.com/feed/
18. **Utility Dive** - https://www.utilitydive.com/feeds/news/
19. **Energy Central** - https://energycentral.com/rss.xml
20. **Renewable Energy World** - https://www.renewableenergyworld.com/feed/

#### åŒºåŸŸåª’ä½“ï¼ˆå—ç¾/äºšæ´²ï¼‰
21. **å·´è¥¿ - Folha de S.Paulo** - https://feeds.folha.uol.com.br/
22. **å·´è¥¿ - O Globo** - https://oglobo.globo.com/rss.xml
23. **æ™ºåˆ© - La Tercera** - https://www.latercera.com/feed/
24. **è²å¾‹å®¾ - Manila Bulletin** - https://mb.com.ph/feed/
25. **å·´åŸºæ–¯å¦ - Dawn** - https://www.dawn.com/feeds/

#### æ”¿åºœ/å®˜æ–¹æ¸ é“
26. **å›½å®¶ç”µç½‘å®˜ç½‘** - http://www.sgcc.com.cn/rssï¼ˆå¦‚æœæœ‰ï¼‰
27. **å›½å®¶èƒ½æºå±€** - http://www.nea.gov.cn/rss
28. **å•†åŠ¡éƒ¨** - http://www.mofcom.gov.cn/rss
29. **ä¸–ç•Œé“¶è¡Œ** - https://www.worldbank.org/en/rss
30. **äºšæ´²å¼€å‘é“¶è¡Œ** - https://www.adb.org/news/rss

#### æœç´¢å¼•æ“RSS
31. **Google News - "State Grid"** - https://news.google.com/rss/search?q=State+Grid
32. **Google News - "CPFL Brazil"** - https://news.google.com/rss/search?q=CPFL+Brazil
33. **Google News - "NGCP Philippines"** - https://news.google.com/rss/search?q=NGCP+Philippines
34. **Google News - "CGE Chile"** - https://news.google.com/rss/search?q=CGE+Chile
35. **Bing News RSS** - æ”¯æŒè‡ªå®šä¹‰å…³é”®è¯

#### ç¤¾äº¤åª’ä½“/èšåˆ
36. **Reddit Energy** - https://www.reddit.com/r/energy.rss
37. **Twitter Lists** - é€šè¿‡RSSä»£ç†è®¿é—®
38. **LinkedIn Company Pages** - é€šè¿‡RSSä»£ç†

#### ç›‘ç®¡æœºæ„
39. **SEC Filings** - https://www.sec.gov/rss/
40. **å„å›½ç”µåŠ›ç›‘ç®¡æœºæ„** - æ ¹æ®åœ°åŒºé…ç½®

---

### æ–¹æ¡ˆäºŒï¼šä½¿ç”¨RSSèšåˆæœåŠ¡

**æ¨èæœåŠ¡**ï¼š
1. **RSSHub** - è‡ªå»ºRSSèšåˆæœåŠ¡ï¼ˆå¼€æºï¼‰
   - æ”¯æŒå‡ ä¹æ‰€æœ‰ç½‘ç«™
   - è‡ªå®šä¹‰è§„åˆ™
   - éƒ¨ç½²åœ¨Cloudflare Workers

2. **RSS.app** - å°†ä»»ä½•ç½‘ç«™è½¬æ¢ä¸ºRSS
3. **FetchRSS** - å•†ä¸šRSSç”ŸæˆæœåŠ¡
4. **Feed43** - è‡ªå®šä¹‰RSSç”Ÿæˆ

---

### æ–¹æ¡ˆä¸‰ï¼šæ”¹è¿›çˆ¬è™«ç­–ç•¥

**æŠ€æœ¯ä¼˜åŒ–**ï¼š
1. **ä½¿ç”¨ä»£ç†IPæ± ** - é¿å…IPå°é”
2. **éšæœºUser-Agent** - æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨
3. **æ·»åŠ å»¶è¿Ÿ** - é¿å…è§¦å‘åçˆ¬è™«
4. **Cookieç®¡ç†** - ä¿æŒä¼šè¯çŠ¶æ€
5. **é”™è¯¯é‡è¯•** - è‡ªåŠ¨é‡è¯•å¤±è´¥è¯·æ±‚

---

## ğŸš€ æ–°å¢åŠŸèƒ½è®¾è®¡

### 1. å…³é”®è¯æœç´¢å¢å¼º

**å‰ç«¯ç•Œé¢**ï¼š
```
[æœç´¢æ¡†]
  â””â”€ æ”¯æŒï¼šå…¬å¸åã€å…³é”®è¯ã€æ—¶é—´èŒƒå›´
  â””â”€ å®æ—¶æœç´¢å»ºè®®
  â””â”€ é«˜çº§ç­›é€‰å™¨

[æœç´¢å†å²]
  â””â”€ ä¿å­˜å¸¸ç”¨æœç´¢
  â””â”€ ä¸€é”®åº”ç”¨
```

**åç«¯API**ï¼š
```typescript
GET /api/risks/search?q={keyword}&company={company}&level={level}&startDate={date}&endDate={date}
```

**æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–**ï¼š
```sql
CREATE INDEX idx_risks_search ON risks(company_name, title, risk_item);
CREATE FULLTEXT INDEX idx_risks_fulltext ON risks(title, risk_item, risk_reason);
```

---

### 2. æ‰¹é‡å¯¼å…¥æ•°æ®æº

**å¯¼å…¥æ ¼å¼ï¼ˆExcel/CSVï¼‰**ï¼š
```csv
åç§°,URL,åˆ†ç±»,XPathè§„åˆ™,å­—æ®µæ˜ å°„,å¯ç”¨çŠ¶æ€
æ–°åç½‘,http://xinhuanet.com,æ–°é—»åª’ä½“,//article,"{...}",æ˜¯
è·¯é€ç¤¾,http://reuters.com,æ–°é—»åª’ä½“,//article,"{...}",æ˜¯
```

**å‰ç«¯ç•Œé¢**ï¼š
```
[å¯¼å…¥æŒ‰é’®]
  â””â”€ é€‰æ‹©æ–‡ä»¶ï¼ˆExcel/CSVï¼‰
  â””â”€ é¢„è§ˆæ•°æ®
  â””â”€ éªŒè¯é…ç½®
  â””â”€ æ‰¹é‡å¯¼å…¥

[æ¨¡æ¿ä¸‹è½½]
  â””â”€ æä¾›æ ‡å‡†æ¨¡æ¿
  â””â”€ ç¤ºä¾‹æ•°æ®
```

**åç«¯API**ï¼š
```typescript
POST /api/datasources/import
Body: FormData (file)
Response: { success, imported, failed, errors }
```

---

### 3. å®Œå–„å¯¼å‡ºåŠŸèƒ½

**å¯¼å‡ºç±»å‹**ï¼š
1. **é£é™©ä¿¡æ¯å¯¼å‡º** âœ… å·²å®ç°
2. **æ•°æ®æºå¯¼å‡º** âœ… å·²å®ç°
3. **ä¼ä¸šåˆ—è¡¨å¯¼å‡º** âœ… å·²å®ç°
4. **è°ƒæ•´å†å²å¯¼å‡º** âœ… å·²å®ç°
5. **æœç´¢ç»“æœå¯¼å‡º** ğŸ†• æ–°å¢
6. **è‡ªå®šä¹‰å­—æ®µå¯¼å‡º** ğŸ†• æ–°å¢

**å¯¼å‡ºå¢å¼º**ï¼š
```typescript
// æ”¯æŒå¤šç§æ ¼å¼
- Excel (.xlsx) âœ…
- CSV (.csv) ğŸ†•
- JSON (.json) ğŸ†•
- PDFæŠ¥å‘Š ğŸ†•

// æ”¯æŒè‡ªå®šä¹‰å­—æ®µé€‰æ‹©
[âœ“] å…¬å¸åç§°
[âœ“] é£é™©æ ‡é¢˜
[âœ“] é£é™©ç­‰çº§
[ ] è¯¦ç»†åŸå› 
[âœ“] å‘å¸ƒæ—¶é—´
```

---

### 4. æ•°æ®æºæµ‹è¯•ä¼˜åŒ–

**å½“å‰é—®é¢˜**ï¼š
- åªæµ‹è¯•HTTPçŠ¶æ€ç 
- ä¸éªŒè¯å†…å®¹æ˜¯å¦å¯è§£æ
- ä¸æ£€æµ‹CORSé—®é¢˜

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
```typescript
// å®Œæ•´æµ‹è¯•æµç¨‹
1. DNSè§£ææµ‹è¯•
2. HTTPè¿é€šæ€§æµ‹è¯•
3. CORSæ£€æµ‹
4. å†…å®¹è·å–æµ‹è¯•
5. XPathè§„åˆ™éªŒè¯
6. åçˆ¬è™«æ£€æµ‹
7. æ€§èƒ½è¯„ä¼°

// è¿”å›è¯¦ç»†æŠ¥å‘Š
{
  status: "success" | "warning" | "error",
  tests: {
    dns: { passed: true, time: 50 },
    http: { passed: true, status: 200, time: 500 },
    cors: { passed: false, error: "CORS blocked" },
    content: { passed: true, size: 50000 },
    xpath: { passed: true, matched: 15 },
    performance: { score: 85, recommendation: "Good" }
  }
}
```

---

## ğŸ“Š å®æ–½ä¼˜å…ˆçº§

### P0 - ç«‹å³å®æ–½ï¼ˆå…³é”®åŠŸèƒ½ï¼‰
1. âœ… æ›¿æ¢ä¸ºRSSæ•°æ®æºï¼ˆGoogle News RSSä¸ºä¸»ï¼‰
2. âœ… å…³é”®è¯æœç´¢åŠŸèƒ½
3. âœ… æ‰¹é‡å¯¼å…¥æ•°æ®æº

### P1 - è¿‘æœŸå®æ–½ï¼ˆé‡è¦åŠŸèƒ½ï¼‰
4. âœ… å®Œå–„å¯¼å‡ºåŠŸèƒ½ï¼ˆCSV/JSONï¼‰
5. âœ… æ•°æ®æºæµ‹è¯•ä¼˜åŒ–
6. âœ… æœç´¢ç»“æœå¯¼å‡º

### P2 - åç»­å®æ–½ï¼ˆå¢å¼ºåŠŸèƒ½ï¼‰
7. ğŸ“Š PDFæŠ¥å‘Šç”Ÿæˆ
8. ğŸ“Š è‡ªå®šä¹‰çˆ¬è™«è§„åˆ™ç•Œé¢
9. ğŸ“Š æ•°æ®æºè‡ªåŠ¨ä¿®å¤å»ºè®®

---

## ğŸ”§ æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### RSSè§£æå™¨
```typescript
// ä½¿ç”¨fast-xml-parserè§£æRSS/Atom
import { XMLParser } from 'fast-xml-parser'

async function parseRSSFeed(url: string) {
  const response = await fetch(url)
  const xml = await response.text()
  const parser = new XMLParser()
  const result = parser.parse(xml)
  
  return result.rss.channel.item.map(item => ({
    title: item.title,
    description: item.description,
    link: item.link,
    pubDate: item.pubDate
  }))
}
```

### Google News RSSæœç´¢
```typescript
// ä¸ºæ¯ä¸ªå…¬å¸åˆ›å»ºä¸“å±RSSæº
const companies = [
  'State Grid',
  'CPFL Brazil',
  'NGCP Philippines',
  'CGE Chile'
]

const rssSources = companies.map(company => ({
  name: `Google News - ${company}`,
  url: `https://news.google.com/rss/search?q=${encodeURIComponent(company)}&hl=en-US&gl=US&ceid=US:en`,
  type: 'rss'
}))
```

### æ‰¹é‡å¯¼å…¥å¤„ç†
```typescript
import * as XLSX from 'xlsx'

async function importDataSources(file: File) {
  const workbook = XLSX.read(await file.arrayBuffer())
  const sheet = workbook.Sheets[workbook.SheetNames[0]]
  const data = XLSX.utils.sheet_to_json(sheet)
  
  const results = {
    success: 0,
    failed: 0,
    errors: []
  }
  
  for (const row of data) {
    try {
      await insertDataSource(row)
      results.success++
    } catch (error) {
      results.failed++
      results.errors.push({ row, error: error.message })
    }
  }
  
  return results
}
```

---

## ğŸ“ æ•°æ®æºé…ç½®æ¨¡æ¿

### RSSæ•°æ®æºé…ç½®
```json
{
  "sources": [
    {
      "name": "Google News - å›½å®¶ç”µç½‘",
      "url": "https://news.google.com/rss/search?q=å›½å®¶ç”µç½‘+OR+State+Grid",
      "type": "rss",
      "category": "æœç´¢å¼•æ“",
      "enabled": true,
      "updateInterval": 3600
    },
    {
      "name": "Google News - CPFL",
      "url": "https://news.google.com/rss/search?q=CPFL+Brazil+energy",
      "type": "rss",
      "category": "æœç´¢å¼•æ“",
      "enabled": true,
      "updateInterval": 3600
    }
  ]
}
```

### ä¼ ç»Ÿç½‘ç«™é…ç½®ï¼ˆå¤‡ç”¨ï¼‰
```json
{
  "sources": [
    {
      "name": "æ–°åç½‘",
      "url": "http://www.xinhuanet.com/world/news_world.xml",
      "type": "rss",
      "category": "æ–°é—»åª’ä½“",
      "enabled": true
    }
  ]
}
```

---

## ğŸ¯ é¢„æœŸæ•ˆæœ

### æ•°æ®æºæ”¹è¿›
- âœ… å¯ç”¨æ•°æ®æºä»3ä¸ªå¢åŠ åˆ°30+ä¸ª
- âœ… æ›´æ–°æˆåŠŸç‡ä»10%æå‡åˆ°80%+
- âœ… æ–°é—»è¦†ç›–é¢æ‰©å¤§5å€

### åŠŸèƒ½å¢å¼º
- âœ… æœç´¢å“åº”æ—¶é—´ < 1ç§’
- âœ… æ‰¹é‡å¯¼å…¥æ”¯æŒ1000+æ¡æ•°æ®æº
- âœ… å¯¼å‡ºæ”¯æŒå¤šç§æ ¼å¼

### ç”¨æˆ·ä½“éªŒ
- âœ… ä¸€é”®æ›´æ–°æˆåŠŸç‡ > 80%
- âœ… æ“ä½œæµç•…åº¦æå‡
- âœ… é”™è¯¯æç¤ºæ›´æ¸…æ™°

---

## ğŸ“‹ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼ˆ2å°æ—¶ï¼‰
1. åˆ›å»ºRSSè§£æå™¨æ¨¡å—
2. é…ç½®Google News RSSæ•°æ®æº
3. æµ‹è¯•æ•°æ®æºå¯ç”¨æ€§

### ç¬¬äºŒé˜¶æ®µï¼ˆ2å°æ—¶ï¼‰
4. å®ç°å…³é”®è¯æœç´¢åŠŸèƒ½
5. æ·»åŠ æœç´¢å†å²ä¿å­˜
6. ä¼˜åŒ–æœç´¢ç»“æœå±•ç¤º

### ç¬¬ä¸‰é˜¶æ®µï¼ˆ2å°æ—¶ï¼‰
7. å®ç°æ‰¹é‡å¯¼å…¥åŠŸèƒ½
8. åˆ›å»ºå¯¼å…¥æ¨¡æ¿
9. æ·»åŠ æ•°æ®éªŒè¯

### ç¬¬å››é˜¶æ®µï¼ˆ1å°æ—¶ï¼‰
10. å®Œå–„å¯¼å‡ºåŠŸèƒ½
11. æ·»åŠ CSV/JSONå¯¼å‡º
12. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

**æ€»è®¡ï¼šçº¦7å°æ—¶å®Œæˆæ‰€æœ‰ä¼˜åŒ–**

---

## âœ… éªŒæ”¶æ ‡å‡†

1. âœ… è‡³å°‘30ä¸ªRSSæ•°æ®æºå¯ç”¨
2. âœ… å…³é”®è¯æœç´¢å‡†ç¡®ç‡ > 95%
3. âœ… æ‰¹é‡å¯¼å…¥æˆåŠŸç‡ > 90%
4. âœ… å¯¼å‡ºåŠŸèƒ½æ”¯æŒ3ç§æ ¼å¼
5. âœ… ä¸€é”®æ›´æ–°æˆåŠŸç‡ > 80%
6. âœ… æ‰€æœ‰åŠŸèƒ½å®Œæ•´æµ‹è¯•é€šè¿‡

---

ç°åœ¨å¼€å§‹å®æ–½å—ï¼Ÿæˆ‘å°†æŒ‰ç…§è¿™ä¸ªè®¡åˆ’é€æ­¥å®ç°æ‰€æœ‰åŠŸèƒ½ã€‚
